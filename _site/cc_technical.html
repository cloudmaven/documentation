<!DOCTYPE html>
<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="Cloud computing technical notes">
<meta name="keywords" content="research_computing,  cloud, introduction">
<title>Cloud technical notes | Research Computing Resources</title>
<link rel="stylesheet" href="css/syntax.css">


<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
<!--<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">-->
<link rel="stylesheet" href="css/modern-business.css">
<link rel="stylesheet" href="css/lavish-bootstrap.css">
<link rel="stylesheet" href="css/customstyles.css">
<link rel="stylesheet" href="css/theme-purple.css">

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="js/jquery.navgoco.min.js"></script>


<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/2.0.0/anchor.min.js"></script>
<script src="js/toc.js"></script>
<script src="js/customscripts.js"></script>

<link rel="shortcut icon" href="images/favicon.ico">

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

<link rel="alternate" type="application/rss+xml" title="" href="http://idratherbewriting.comfeed.xml">

    <script>
        $(document).ready(function() {
            // Initialize navgoco with default options
            $("#mysidebar").navgoco({
                caretHtml: '',
                accordion: true,
                openClass: 'active', // open
                save: false, // leave false or nav highlighting doesn't work right
                cookie: {
                    name: 'navgoco',
                    expires: false,
                    path: '/'
                },
                slide: {
                    duration: 400,
                    easing: 'swing'
                }
            });
            $("#collapseAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', false);
            });
            $("#expandAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', true);
            });
        });
    </script>
    <script>
        $(function () {
            $('[data-toggle="tooltip"]').tooltip()
        })
    </script>
    
</head>
<body>
<!-- Navigation -->
<nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container topnavlinks">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="fa fa-home fa-lg navbar-brand" href="index.html">&nbsp;<span class="projectTitle"> Research Computing Resources</span></a>
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <!-- entries without drop-downs appear here -->
                
                
                
                <li><a href="calendar.html">Calendar</a></li>
                
                
                
                <!-- entries with drop-downs appear here -->
                <!-- conditional logic to control which topnav appears for the audience defined in the configuration file.-->
                
                
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Jekyll Resources<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        
                        
                        <li><a href="https://github.com/tomjohnson1492/documentation-theme-jekyll" target="_blank">Github Repo</a></li>
                        
                        
                        
                        <li><a href="https://talk.jekyllrb.com" target="_blank">Jekyll Talk</a></li>
                        
                        
                        
                        <li><a href="http://jekyllrb.com/docs/home/" target="_blank">Jekyll documentation</a></li>
                        
                        
                        
                        <li><a href="http://stackoverflow.com/questions/tagged/jekyll" target="_blank">Jekyll on Stack Overflow</a></li>
                        
                        
                        
                        <li><a href="http://idratherbewriting.com/category-jekyll/" target="_blank">Jekyll on my blog</a></li>
                        
                        
                    </ul>
                </li>
                
                
                
			<li><a class="email" title="Submit feedback" href="#" onclick="javascript:window.location='mailto:amandach@uw.edu?subject=Cloud maven f eedback&body=I have some feedback about the Cloud technical notes page: ' + window.location.href;"><i class="fa fa-envelope-o"></i> Feedback</a><li>

		
                <!--comment out this block if you want to hide search-->
                <li>
                    <!--start search-->
                    <div id="search-demo-container">
                        <input type="text" id="search-input" placeholder="search...">
                        <ul id="results-container"></ul>
                    </div>
                    <script src="js/jekyll-search.js" type="text/javascript"></script>
                    <script type="text/javascript">
                            SimpleJekyllSearch.init({
                                searchInput: document.getElementById('search-input'),
                                resultsContainer: document.getElementById('results-container'),
                                dataSource: 'search.json',
                                searchResultTemplate: '<li><a href="{url}" title="Cloud technical notes">{title}</a></li>',
                    noResultsText: 'No results found.',
                            limit: 10,
                            fuzzy: true,
                    })
                    </script>
                    <!--end search-->
                </li>
            </ul>
        </div>
        </div>
        <!-- /.container -->
</nav>

<!-- Page Content -->
<div class="container">
    <div class="col-lg-12">&nbsp;</div>
    <!-- Content Row -->
    <div class="row">
        <!-- Sidebar Column -->
        <div class="col-md-3">
          












<ul id="mysidebar" class="nav">
    <li class="sidebarTitle">Documentation </li>
    
    
    
        
    
    <li>
        <a href="#">Cloud Core</a>
        <ul>
            
            
            
            <li><a href="cc_what_is_the_cloud.html">What is the cloud?</a></li>
            
            
            
            
            
            
            <li><a href="cc_data_security.html">Data security</a></li>
            
            
            
            
            
            
            <li><a href="cc_glossary.html">Glossary</a></li>
            
            
            
            
            
            
            <li><a href="cc_cost_management.html">Cost management</a></li>
            
            
            
            
            
            
            <li><a href="cc_compute_power.html">Compute power</a></li>
            
            
            
            
            
            
            <li><a href="cc_docker_containers.html">Docker containers</a></li>
            
            
            
            
            
            
            <li><a href="cc_internet_of_things.html">Internet of things</a></li>
            
            
            
            
            
            
            <li class="active"><a href="cc_technical.html">Cloud technical</a></li>
            
            
            
            
            
            
            <li><a href="cc_network.html">Network</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">Proposal Prep</a>
        <ul>
            
            
            
            <li><a href="p_consulting.html">Consulting</a></li>
            
            
            
            
            
            
            <li><a href="p_costing.html">Costing the cloud</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">Research computing</a>
        <ul>
            
            
            
            <li><a href="rc_cloud101_immersion.html">Cloud 101 Immersion</a></li>
            
            
            
            
            
            
            <li><a href="rc_Foster101.html">Foster 101</a></li>
            
            
            
            
            
            
            <li><a href="http:escience.washington.edu">WRF Data Science Studio</a></li>
            
            
            
            
            
            
            <li><a href="rc_yun_zhou_guan.html">Yun Zhou Guan (Cloud Library)</a></li>
            
            
            
            
            
            
            <li><a href="rc_data_science.html">Data science</a></li>
            
            
            
            
            
            
            <li><a href="rc_research_on_the_web.html">Research on the web</a></li>
            
            
            
            
            
            
            <li><a href="rc_github.html">GitHub</a></li>
            
            
            
            
            
            
            <li><a href="rc_visualization_python.html">Visualization Python</a></li>
            
            
            
            
            
            
            <li><a href="rc_visualization_virtual_globes.html">Visualization virtual globes</a></li>
            
            
            
            
            
            
            <li><a href="rc_lightweight_data_systems.html">Lightweight Data Systems</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">Curriculum</a>
        <ul>
            
            
            
            <li><a href="curr_notebooks.html">Jupyter for coursework</a></li>
            
            
            
            
            
            
            <li><a href="curr_yun_zhou_guan.html">Cloud Library</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">AWS</a>
        <ul>
            
            
            
            <li><a href="aws_overview.html">Overview</a></li>
            
            
            
            
            
            
            <li><a href="aws_walkthrough.html">Walkthrough</a></li>
            
            
            
            
            
            
            <li><a href="aws_console.html">Console</a></li>
            
            
            
            
            
            
            <li><a href="aws_account_management.html">Account management</a></li>
            
            
            
            
            
            
            <li><a href="aws_ec2.html">EC2</a></li>
            
            
            
            
            
            
            <li><a href="aws_spot_market.html">Spot market</a></li>
            
            
            
            
            
            
            <li><a href="aws_cluster.html">Cluster</a></li>
            
            
            
            
            
            
            <li><a href="aws_storage.html">Storage</a></li>
            
            
            
            
            
            
            <li><a href="aws_lambda.html">Lambda</a></li>
            
            
            
            
            
            
            <li><a href="aws_jupyter.html">Jupyter</a></li>
            
            
            
            
            
            
            <li><a href="aws_hipaa.html">HIPAA</a></li>
            
            
            
            
            
            
            <li><a href="aws_iot.html">IoT</a></li>
            
            
            
            
            
            
            <li><a href="aws_spark.html">Spark</a></li>
            
            
            
            
            
            
            <li><a href="aws_database.html">Database</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">Azure</a>
        <ul>
            
            
            
            <li><a href="az_overview.html">Overview</a></li>
            
            
            
            
            
            
            <li><a href="az_walkthrough.html">Walkthrough</a></li>
            
            
            
            
            
            
            <li><a href="az_training.html">Training</a></li>
            
            
            
            
            
            
            <li><a href="az_portal.html">Portal</a></li>
            
            
            
            
            
            
            <li><a href="az_account_management.html">Account management</a></li>
            
            
            
            
            
            
            <li><a href="az_visual_studio.html">Visual Studio</a></li>
            
            
            
            
            
            
            <li><a href="az_web_framework.html">Web Framework</a></li>
            
            
            
            
            
            
            <li><a href="az_machine_learning.html">Machine Learning</a></li>
            
            
            
            
            
            
            <li><a href="az_spark.html">Spark</a></li>
            
            
            
            
            
            
            <li><a href="az_hipaa.html">HIPAA</a></li>
            
            
            
            
            
            
            <li><a href="az_jupyter.html">Jupyter</a></li>
            
            
            
            
            
            
            <li><a href="az_database.html">Database</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">Google</a>
        <ul>
            
            
            
            <li><a href="g_overview.html">Overview</a></li>
            
            
            
            
            
            
            <li><a href="g_walkthrough.html">Walkthrough</a></li>
            
            
            
            
            
            
            <li><a href="g_app_engine.html">App Engine</a></li>
            
            
            
            
            
            
            <li><a href="g_big_query.html">BigQuery</a></li>
            
            
            
            
            
            
            <li><a href="g_compute_engine.html">Compute Engine</a></li>
            
            
            
            
            
            
            <li><a href="g_preemptible_instances.html">Preemptible Instances</a></li>
            
            
            
            
            
            
            <li><a href="g_earth_engine.html">Earth Engine</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">Cloud Case Studies</a>
        <ul>
            
            
            
            <li><a href="ccs_student_research.html">Student Research</a></li>
            
            
            
            
            
            
            <li><a href="ccs_precis.html">Precis</a></li>
            
            
            
            
            
            
            <li><a href="ccs_DIF.html">Dynamic Information Framework (DIF)</a></li>
            
            
            
            
            
            
            <li><a href="ccs_high_mountain_asia.html">High Mountain Asia (HiMAT/NASA)</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">AWS Case Studies</a>
        <ul>
            
            
            
            <li><a href="acs_epigenome_imputation.html">Epigenome Imputation</a></li>
            
            
            
            
            
            
            <li><a href="acs_nicadif.html">NicaDIF</a></li>
            
            
            
            
            
            
            <li><a href="acs_geoserver.html">Geoserver and LIDAR</a></li>
            
            
            
            
            
            
            <li><a href="acs_rosetta.html">Rosetta</a></li>
            
            
            
            
            
            
            <li><a href="acs_neurohackweek.html">Neurohackweek</a></li>
            
            
            
            
            
            
            <li><a href="acs_cfd.html">CFD</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">Azure Case Studies</a>
        <ul>
            
            
            
            <li><a href="azcs_araldif.html">AralDIF</a></li>
            
            
            
            
            
            
            <li><a href="azcs_organic_chemistry.html">organic chemistry</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">Google Case Studies</a>
        <ul>
            
            
            
            <li><a href="https://cloud.google.com/customers/colorado-center-for-personalized-medicine/" target="_blank">Health Data Compass - Colorado Center for Personalized Medicine</a></li>
            
            
            
            
            
            
            <li><a href="https://cloud.google.com/customers/stanford-universitys-center-of-genomics-and-personalized-medicine/" target="_blank">Center of Genomics and Personalized Medicine - Stanford University</a></li>
            
            
            
            
        </ul>
        
        
        
        <!-- if you aren't using the accordion, uncomment this block:
           <p class="external">
               <a href="#" id="collapseAll">Collapse All</a> | <a href="#" id="expandAll">Expand All</a>
           </p>
           -->
    </li>
</ul>
</div>

<!-- this highlights the active parent class in the navgoco sidebar. this is critical so that the parent expands when you're viewing a page. This must appear below the sidebar code above. Otherwise, if placed inside customscripts.js, the script runs before the sidebar code runs and the class never gets inserted.-->
<script>$("li.active").parents('li').toggleClass("active");</script>

    <!-- Content Column -->
    <div class="col-md-9">
        <div class="post-header">
   <h1 class="post-title-main">Cloud technical notes</h1>
</div>



<div class="post-content">

   
    <div class="summary">Cloud computing technical notes</div>
   

    
    
<!-- this handles the automatic toc. use ## for subheads to auto-generate the on-page minitoc. if you use html tags, you must supply an ID for the heading element in order for it to appear in the minitoc. -->
<script>
$( document ).ready(function() {
  // Handler for .ready() called.

$('#toc').toc({ minimumHeaders: 0, listType: 'ul', showSpeed: 0, headers: 'h2,h3,h4' });

/* this offset helps account for the space taken up by the floating toolbar. */
$('#toc').on('click', 'a', function() {
  var target = $(this.getAttribute('href'))
    , scroll_target = target.offset().top

  $(window).scrollTop(scroll_target - 10);
  return false
})
  
});
</script>

<div id="toc"></div>

    

    

    

    

  <h2 id="introduction">Introduction</h2>
<p>This purpose of this page is to present you with important technical details of cloud computing.</p>

<h2 id="links">Links</h2>
<ul>
  <li><a href="https://aws.amazon.com/ec2/instance-types/">AWS EC2 instance type details</a></li>
  <li><a href="http://docs.aws.amazon.com/cli/latest/userguide/installing.html">Install the AWS CLI</a></li>
  <li><a href="http://support.suso.com/supki/SSH_Tutorial_for_Linux">Example ssh usage/help</a></li>
  <li><a href="https://en.wikipedia.org/wiki/Port_(computer_networking)">Computer networking port</a></li>
  <li><a href="http://www.computerhope.com/unix/curl.htm">Linux cURL command</a></li>
  <li><a href="https://coderwall.com/p/ohk6cg/remote-access-to-ipython-notebooks-via-ssh">Access to Jupyter notebooks via ssh</a></li>
  <li><a href="https://en.wikipedia.org/wiki/PuTTY">PuTTY on Wikipedia</a></li>
</ul>

<h2 id="warnings">Warnings</h2>
<ul>
  <li><strong><em>The material on this page can be incredibly useful but out of context may appear a bit ‘so what?’; 
we suggest skimming through here to help build your cloud context web if these topics are new to you.</em></strong></li>
  <li><strong><em>Our <a href="cc_glossary.html">glossary</a> may help with unfamiliar terms.</em></strong></li>
  <li><strong><em>Be warned! We have placed – where appropriate – smaller “Warnings” sections below with each sub-topic.</em></strong></li>
</ul>

<h2 id="virtual-machines">Virtual Machines</h2>

<p>How fast is a given instance?  You can read about instance types on the vendor’s cloud console and/or information 
pages. For example AWS EC2 instances are written up <a href="https://aws.amazon.com/ec2/instance-types/">here</a>.  Here 
are a couple ways to look at CPU details from the command line of a Linux machine:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>% lscpu
% cat /proc/cpuinfo
</code></pre>
</div>

<p>It is possible that (from evidence circa 2012) a certain degree of CPU type heterogeneity can introduce <em>on 
the order of</em> 10% performance variation.</p>

<h2 id="data-transfer-to-cloud-storage">Data transfer to cloud storage</h2>

<h3 id="to-aws-s3">To AWS S3</h3>

<p>Run the ingress (local to S3) transfer in parallel on a wired connection (not WiFi). Being peered with a high
speed netwokr like Internet2 helps; or being in a <em>Science DMZ</em> environment is better still. If the data is 
going to the Oregon region of AWS: It might not save any time to go from Portland to Seattle and back to
Portland again. Finally: You can use the console (browser) but the risk is that this will be slow.  On the other
hand you can use the AWS command line; e.g. the <strong>cp</strong> command. There are GUI-based interfaces like Cyberduck
as well.</p>

<ul>
  <li>Note the AWS CLI installation page; this includes making sure the cli is in your path.</li>
</ul>

<h2 id="ports-sockets-and-tunneling">Ports, sockets and tunneling</h2>

<p>Following a URL such as 123.213.101.102 you may see a colon followed by a number, as in: 123.213.101.102:8001. 
This following number is a <strong><em>port</em></strong>, per wikipedia ‘a networking endpoint in an operating system’. A port in 
this context means a dedicated signal wire. By directing applications to a port you build a 
dedicated send/receive connection. This is particularly useful in getting two computers to talk to one another.</p>

<p>For completeness there is a related concept called a <a href="https://en.wikipedia.org/wiki/Network_socket">socket</a> 
which we do not need in this discussion.</p>

<p>We proceed with a particularly important cloud-oriented use of ports. Suppose you have a cloud VM instance 
You wish to run some software that uses a Graphical User Interface (GUI). In this case let’s consider the
common example of a <a href="az_jupyter.html">Jupyter notebook</a>. Here a remote Jupyter notebook server is accustomed to
talking to your machine via your local browser. 
The commands below follow <a href="https://coderwall.com/p/ohk6cg/remote-access-to-ipython-notebooks-via-ssh">this reference</a>.</p>

<p>Let’s assume you log in to the cloud VM at ip address 123.213.101.102 using ssh.<br />
There you issue</p>

<div class="highlighter-rouge"><pre class="highlight"><code>% jupyter notebook --no-browser --port=8889
</code></pre>
</div>

<p>This is directing the jupyter application to pay attention to port 8889.
Next, on your local machine, say a laptop for example, you would issue:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>% ssh -N -f -i ~/.ssh/credential_filename.pem -L localhost:7005:localhost:8889 username@123.213.101.102
</code></pre>
</div>

<p>This uses the ssh command. If you are using a Windows PC it is common to connect using PuTTY (see below).
The point of the command is to create a tunnel from port 7005 on your local machine to port 8889 on the 
cloud VM.</p>

<p>The <strong>-i</strong> switch specifies an identity file (key pair access to the cloud VM).</p>

<p>The <strong>-L</strong> switch in the command stands for <strong>Local</strong>.</p>

<h3 id="double-hop-into-a-private-subnet">Double hop into a private subnet</h3>

<p>(kilroy this migrates to HIPAA)</p>

<p>Suppose we want to work on an EC2 instance on a private subnet in a VPC. On that machine we have three tasks:</p>

<ul>
  <li>Make sure any updates are installed</li>
  <li>Pull in data from an S3 bucket</li>
  <li>Start a jupyter notebook (with browser disabled).</li>
</ul>

<p>We assume the files are already in place on the S3 bucket.</p>

<p>From a starting point ‘laptop’ run PuTTY or ssh to reach the bastion server. From the bastion server:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>bastion% sudo yum update
bastion% ssh -i ec2_private_keypair.pem ec2-user@10.0.1.248
</code></pre>
</div>

<p>This gets us to the command line on the private subnet EC2 instance. We proceed with the three steps given above.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>ec2_private% sudo yum update

&lt;diagnostic print outs&gt;

ec2_private% aws configure

(enter both public and private IAM User access keys; nothing else required)

ec2_private% aws s3 cp s3://s3-bucket-name/filename1 .
ec2_private% aws s3 cp s3://s3-bucket-name/filename2 .
ec2_private% aws s3 cp s3://s3-bucket-name/filename3 .

ec2_private% jupyter notebook --no-browser --port=7777
</code></pre>
</div>

<p>On our local machine:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>laptop% host1=ec2-user@34.208.221.24
laptop% host2=ec2-user@10.0.1.248
laptop% ssh -i hipaa_bastion_keypair.pem -L 7777:localhost:7777 $host1 ssh -i hipaa_ec2_private_keypair.pem -L 7777:localhost:7777 -N $host2
</code></pre>
</div>

<p>In our local browser address bar:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>http://localhost:7777
</code></pre>
</div>

<p>This brings up the Jupyter notebook view from the machine on the private subnet.</p>

<h3 id="mysql-connection">MySQL connection</h3>

<p>As another example concerning MySQL database connections: Here is a paraphrased quote from an online ssh tutorial
<a href="http://support.suso.com/supki/SSH_Tutorial_for_Linux">http://support.suso.com/supki/SSH_Tutorial_for_Linux</a>:</p>

<blockquote>
  <p>SSH can forward communication across an SSH session that you establish.  For example, you can 
set up a port forward for your connection from your home machine to xyz.org such that connections to localhost 
port 3306 forward to the remote machine’s port 3306. Port 3306 is the port that the MySQL server listens on, 
so this would allow you to bypass the normal host checks that the MySQL server would make and allow you to 
run GUI MySQL programs on your local computer while using the database on your remote machine. Here is the 
command to accomplish this:</p>

  <p>ssh -L 3306:mysql.xyz.org:3306 username@kilroy.xyz.org</p>

  <p>The -L (which means Local port) takes one colon-delimeted argument.</p>

  <p>local-host:local-port:connect-to-host:connect-to-port</p>

  <p>You specify what host and port the connection will go to on the other side of the SSH 
connection.  When you make a connection to the local-host:local-port port it sends the 
data through the SSH connection to the connect-to-host:connect-to-port port. From 
the point of view of connect-to-host it is as if the connection 
came from that machine.</p>
</blockquote>

<p>In our example the <strong>ssh</strong> command for the Jupyter notebook connection stipulated port 7005 on 
localhost. Hence on your local machine you can now open a browser and enter in the address bar:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>localhost:7005
</code></pre>
</div>

<p>If all is well you will see the Jupyter notebook (from the cloud VM) on your browser.</p>

<p>Jupyter notebooks have associated passwords; and in the case above our colleague had to set this password 
to an empty string in the Jupyter config file due to Jupyter permission default settings.</p>

<p>The main point here is that the ssh protocol can be used to create tunnels into cloud VMs and 
that this particularly applies when you want to see GUI content on your local machine.</p>

<h2 id="putty">PuTTY</h2>

<p>The Windows PC environment does not yet support the <strong>ssh</strong> command and consequently cloud VM connections typically
use the PuTTY application. (There are also 
<a href="http://web.archive.org/web/20130806071308/http://huddledmasses.org/scriptable-ssh-from-powershell/">alternative options</a> ). 
PuTTY is a slightly circuitous but perfectly reliable means of connecting with a cloud VM, supporting as it does several
communication protocols including ssh.</p>

<p>The main point here is that a VM credential file with a <em>.pem</em> extension does not work with PuTTY. You can use the companion
application PuTTYgen to convert this file to an equivalent file with a .ppk file extension.  The PuTTY program can then use 
this credential file to connect to a cloud VM.</p>

<p>kilroy need screencap of PuTTYgen in operation and the menu location for specifying a .ppk file.</p>

<p>kilroy need text and screencap showing use of PuTTY to accomplish the Jupyter tunnel given above; and copy to the all Jupyter pages as well.</p>

<h2 id="python-connections">Python connections</h2>

<p>Python has a Library to help simplify connecting to a URL. The following code is a simple program that demonstrates
an API call to our <a href="AralDIF.html">AralDIF</a> project:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>import urllib2
import time

def dif(calltype, date1, date2, station):
    baseAPI = 'https://araldif.azurewebsites.net/api/'
    apiExtension = calltype + '?' + 'start=' + date1 + '&amp;' + 'end=' + date2 + '&amp;' + 'station=' + station + '&amp;'
    api_call = baseAPI + apiExtension
    print api_call
    t1 = time.time()
    u = urllib2.urlopen(api_call)
    t2 = time.time()
    data = u.read()
    t3 = time.time()
    print 'URL open required', t2 - t1, 'seconds; read() required', t3 - t2, 'seconds'
    return data

data = dif('gethydrograph', '1995-01-01', '2000-12-31', 'UCHKU')
print data[0:198]
</code></pre>
</div>

<p>The output of this program (the first 198 characters returned) is as follows:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>https://araldif.azurewebsites.net/api/gethydrograph?start=1995-01-01&amp;end=2000-12-31&amp;station=UCHKU&amp;
URL open required 9.09429216385 seconds; read() required 0.0734670162201 seconds
DATE,FLOW
1995-01-01,93.787209
1995-01-02,90.740631
1995-01-03,87.948059
1995-01-04,85.219681
1995-01-05,82.500687
1995-01-06,79.934334
1995-01-07,77.52166
1995-01-08,75.218941
1995-01-09,73.028778
</code></pre>
</div>

<p>Note that establishing the connection required about 9 seconds and the data transfer less than one tenth of a second.</p>

<p>The importance of being able to write this code is high and can be understood as follows:</p>

<p>If your research requires you to regularly go to an external data resource to make new data queries 
(updates, new ideas for looking at existing data and so on) then you traditionally carry this out by manual 
methods: Lots of clicking and dragging and waiting. The above Web Client demonstrates that this process can be 
automated; provided that the person maintaining the data service (in our example ‘araldif.azurewebsites.net’) 
has built and maintained their side of the automation contract.</p>

<h2 id="exclam">Exclam</h2>

<p>This section describes using exclam in front of a Linux command from a Jupyter frame.</p>

<h2 id="linux-connections">Linux connections</h2>

<h3 id="warnings-1">Warnings</h3>

<ul>
  <li><em>** Using curl requires a proper URL and – when hitting GitHub – this can be tricky to figure out. 
Please see our dedicated GitHub page and the Azure Jupyter page for more deatails. **</em></li>
</ul>

<p>This section describes ssh / ftp / wget / curl stuff</p>

<h3 id="ssh">ssh</h3>

<h3 id="ftp">ftp</h3>

<h3 id="wget">wget</h3>

<h3 id="curl">curl</h3>

<p>Per Wikipedia, <a href="https://en.wikipedia.org/wiki/CURL"><strong>curl</strong></a> is a command line tool for getting or sending files 
using <a href="https://en.wikipedia.org/wiki/Uniform_Resource_Locator">URL</a> syntax. 
<a href="http://www.computerhope.com/unix/curl.htm">See this link for Curl usage</a>.</p>

<p>curl can be used in the context of an Azure-hosted Jupyter notebook to load a particular data resource (e.g. from GitHub) 
as an initialization step every time the notebook is restarted.</p>

<p>[]:</p>

<p>[]:</p>



    <div class="tags">
        
        <b>Tags: </b>
        
        
        
        <a href="tag_research_computing.html" class="btn btn-default navbar-btn cursorNorm" role="button">research_computing</a>
        
        
        
    </div>

    

</div>

<hr class="shaded"/>

<footer>
            <div class="row">
                <div class="col-lg-12 footer">
               &copy;2017 cloudmaven. All rights reserved. <br />
<span>Page last updated:</span> October 6, 2016<br/> Site last generated: Jun 27, 2017 <br />
<p><img src="images/cloudmaven_logo.png" alt="Company logo"/></p>
                </div>
            </div>
</footer>


    </div>
    <!-- /.row -->
</div>
<!-- /.container -->
    </div>
</body>

</html>
